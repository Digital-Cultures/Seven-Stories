<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Hello, World! • A-Frame</title>
		<meta name="description" content="Hello, World! • A-Frame">
		<script src="js/aframe.js"></script>
		<script src="js/aframe-text-component.min.js"></script>
		<!-- <script data-pace-options='{ "ajax": false }' src="pace.min.js"></script> -->
		<script type="text/javascript" src="https://rawgit.com/w3core/import.js/master/import.min.js"></script>

		<link href="css/style.css" rel="stylesheet" />
  </head>
  <body>

	<div id="cover"> 
		Loading..

		<a id="startBtn" href="#" data-icon="info" data-role="button" data-mini="false" data-theme="b" data-corners="false" style="visibility: hidden;">Start</a>
	</div>

	<a-scene antialias="true" fog="type: exponential; color: #444; density: 0.1">
		<a-assets>
			<img id="room" src="images/room.jpg">
			<img id="portrait" src="images/doctor.png">
			<a-asset-item id="book" src="models/book.dae"></a-asset-item>
			<a-asset-item id="bed" src="models/bed.dae"></a-asset-item>
			<a-asset-item id="bookChineseEgg" src="models/book+Chinese+Egg.dae"></a-asset-item>
			<a-asset-item id="bookcase" src="models/Bookcase+with+books.dae"></a-asset-item>
			<audio id="narration" src="sounds/narration.mp3"></audio>
			<audio id="river" src="sounds/blip2.mp3"></audio>
		</a-assets>

	  <a-sky  color="#000" ></a-sky>
	  
	  
	  <a-entity id="scene1" position="0 0 0" alongpath="path:0,2,-2 0,2,-1 3,2,-5 0,0,-2; closed:true; dur:12000" >
		<a-collada-model cursor-listener src="#bookChineseEgg" position="2 0 0" rotation="180 0 90" scale="4 4 4">
		  <a-animation attribute="rotation"
				 dur="10000"
				 fill="forwards"
				 to="180 360 90"
				 direction="alternate" 
				 repeat="indefinite"></a-animation>
		</a-collada-model>
	  </a-entity>


	  <a-collada-model src="#bed" position="12 -2 -2" scale="4 4 4" color="#CCCCCC" rotation="0 90 0">
	  </a-collada-model>

	  <a-collada-model src="#bookcase" position="-6 -2 -10" scale="4 4 4" color="#CCCCCC" rotation="0 0 0"  material="shader: flat">

		<a-collada-model id="movingBookDreams" src="#bookChineseEgg" position="2 1.5 0.7" rotation="155 90 90" scale="0.75 1 0.8">
			<a-animation attribute="position" dur="4000" easing="ease-in-cubic" from="2 1.5 0.7" to="2.18 1.83 -0.05" begin="bookDreams"></a-animation>
			<a-animation attribute="rotation" dur="4000" from="155 90 90" to="165 175 90" begin="bookDreams"></a-animation>
		</a-collada-model>

		<a-collada-model id="movingBookRufus" src="#bookChineseEgg" position="2 1.5 1.1" rotation="155 90 90" scale="0.75 1 0.8">
			<a-animation attribute="position" dur="4000" easing="ease-in-cubic" from="2 1.5 1.1" to="1.64 1.84 -0.02" begin="bookRufus"></a-animation>
			<a-animation attribute="rotation" dur="4000" from="155 90 90" to="165 175 90" begin="bookRufus"></a-animation>
		</a-collada-model>

		<a-collada-model id="movingBookMirror" src="#bookChineseEgg" position="2 1.5 1.6" rotation="155 90 90" scale="0.75 1 0.8">
			<a-animation attribute="position" dur="4000" easing="ease-in-cubic" from="2 1.5 1.6" to="1.93 1.06 -0.03" begin="bookMirror"></a-animation>
			<a-animation attribute="rotation" dur="4000" from="155 90 90" to="165 175 90" begin="bookMirror"></a-animation>
		</a-collada-model>
		
		<a-collada-model id="movingBookKey" src="#bookChineseEgg" position="2 1.5 2" rotation="155 90 90" scale="0.75 1 0.8">
			<a-animation attribute="position" dur="4000" easing="ease-in-cubic" from="2 1.5 2" to="1.8 2.14 -0.02" begin="bookKey"></a-animation>
			<a-animation attribute="rotation" dur="4000" from="155 90 90" to="165 175 90" begin="bookKey"></a-animation>
		</a-collada-model>

	  </a-collada-model>

	  <a-image id="image1" src="#portrait" position="7.2 1.5 -6.5" scale="4.1 8 4 " rotation="0 -30 0">
	  </a-image>
	 
	  <a-camera id="camera" position="0 0 0">
	   <a-entity cursor="fuse: true; timeout: 50"
		  position="0 0 -1"
		  scale="0.1 0.1 0.1"
		  geometry="primitive: ring; radiusInner: 0.5; radiusOuter: 0.6"
		  material="color: white; shader: flat">
		  <a-animation begin="click" easing="ease-in" attribute="scale"
					   fill="backwards" from="0.01 0.01 0.01" to="0.1 0.1 0.1" dur="100"></a-animation>
		</a-entity>
		<a-entity id="timer" text="text: 0"
		  position="0.2 -0.2 -1"
		  scale="0.1 0.1 0.1"
		  material="color: white; shader: flat">
		</a-entity>

		<a-entity id="audio" sound="autoplay: false; src: #narration; volume: 5" ></a-entity>
	  </a-camera>

	 <a-entity light="color: #BAA; intensity: 0.7" position="2 8 8" rotation="" scale="" visible="">
		<!-- <a-animation attribute="light.intensity" to="2" delay="200" direction="alternate" repeat="indefinite"></a-animation> -->
	  </a-entity>

	  

	</a-scene>

	<script type="text/javascript" src="js/app.js"></script>
  </body>
</html>
