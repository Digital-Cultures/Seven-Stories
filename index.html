<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Hello, World! • A-Frame</title>
		<meta name="description" content="Hello, World! • A-Frame">
		<link href="css/style.css" rel="stylesheet" />
		<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" />
  </head>
  <body>

	<div id="cover"> 
		This short introduction to the Catherine Storr archives is a joint project by Newcastle University and Seven Stories, the UK's National Centre for Children's Literature. After enjoying the interactive Virtual Reality guided tour, you may want to learn more about Catherine Storr, her work, and the material held by Seven Stories. There is a link that will lead you to more detailed information at the end of the tour.
		<br><br>
		<div style="text-align: center;"><i class="fa fa-volume-up" aria-hidden="true"></i> Make sure the sound is on!</div>
		<div id="beginBtn" href="#" data-icon="info" data-role="button" data-mini="false" data-theme="b" data-corners="false">Shall we begin?</div>
	</div>
	<div id="webGLneeded" style="display: none;">
		This experiance requires WebGL. For more information WebGL click <a href="https://en.wikipedia.org/wiki/WebGL">here.</a>
	</div>
	<div id="cover2" style="display: none;">
		<div style="text-align: center;"> This experience is best enjoyed on <i class="fa fa-mobile" aria-hidden="true"></i> mobile with <i class="fa fa-headphones" aria-hidden="true"></i> headphones + Cardboard. <br>For desktops <i class="fa fa-mouse-pointer" aria-hidden="true"></i> click and drag the mouse to look around.</div>
		<div id="loading" style="width: 100%; text-align: center;">
			<div class="spinner"></div>
			Loading...
		</div>
		<div id="startBtn" href="#" data-icon="info" data-role="button" data-mini="false" data-theme="b" data-corners="false" style="display: none;">Click to Start!</div>
	</div>
	<div id="credits" style="display: none;">
		<div style="width: 100%; text-align: center; padding: 20px"> 
			Credits:<br>
			Narration - Elena Joy Miller<br>
			Music - Kevin MacLeod<br>
			Kim Reynolds<br>
			Kristopher McKie<br>
			Daniel Foster-Smith<br>

		</div>
	</div>

	<script src="js/Detector.js"></script>
	<script type="text/javascript">
		document.getElementById('beginBtn').onclick = function() {
            document.getElementById("cover").style.display = "none";
            if ( ! Detector.webgl ){
            	document.getElementById("webGLneeded").style.display = "block";
            }else{
            	document.getElementById("cover2").style.display = "block";	
            }
            
        };
	</script>

	<!-- This has the inspector build below the scene markup. -->
	<script src="js/aframe.js"></script>
	<script src="js/howler.core.js"></script>
	<script src="js/aframe-text-component.min.js"></script>
	<script src="js/NoSleep.min.js"></script>
	<!-- <script data-pace-options='{ "ajax": false }' src="pace.min.js"></script> -->
	<script type="text/javascript" src="https://rawgit.com/w3core/import.js/master/import.min.js"></script>
	<script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v2.5.4/dist/aframe-extras.min.js"></script>
	<!-- <script src="https://unpkg.com/aframe-animation-component/dist/aframe-animation-component.min.js"></script> -->

	<!-- <a-scene id="scene-1" antialias="true" fog="type: exponential; color: #444; density: 0" animation__fog="startEvents: fogfadeout; property: fog.color; to: #000; dur: 1000" animation__fog="startEvents: fogfadein; property: fog.color; to: #444; dur: 1000">
	 --><a-scene id="scene-1" antialias="true" fog="type: exponential; color: #000; density: 0.0">

		<!-- <a-animation attribute="fog.density" from="7" to="0.1" dur="2000"></a-animation> -->
		<!-- Animations -->
		<a-animation begin="fogClearSlow" attribute="fog.density" to="0.08" dur="40000"></a-animation>
		<a-animation begin="fogLittleIn" attribute="fog.density" from="0" to="0.08" dur="2000"></a-animation>
		<a-animation begin="fogLittleOut" attribute="fog.density" from="0.08" to="0" dur="1000"></a-animation>
		<a-animation begin="fogfadeout" attribute="fog.density" from="0" to="1" dur="1000"></a-animation>
		<a-animation begin="fogfadein"  attribute="fog.density" from="1" to="0" dur="500"></a-animation>

		<a-entity id="lightMain" light="color:#FFFFFF;intensity:0.1;type:point;angle:180" position="2.5 5.49 -0.88" rotation="0 0 0" scale="1 1 1" visible="true">
			<a-animation begin="lightOn" attribute="light.intensity" to="0.4" dur="1000"></a-animation>
			<a-animation begin="lightOnHigh" attribute="light.intensity" to="1" dur="5000"></a-animation>
			<a-animation begin="lightOff" attribute="light.intensity" to="0" dur="1000"></a-animation>
	  	</a-entity>

	  	<a-entity id="windowSun" light="color:#FFB78B;intensity:1;type:point;angle:180;decay:5" position="7.630000000000001 5.72 -11.079999999999998" rotation="0 0 0" scale="1 1 1" visible="true">
			<a-animation begin="lightOff" attribute="light.intensity" to="0" dur="4000"></a-animation>
			<a-animation begin="lightOn" attribute="light.intensity" to="1" dur="10000"></a-animation>
	  	</a-entity>

		<!-- ASSETS -->
		<a-assets>
			<!-- <img id="room" src="images/room.jpg"> -->
			<img id="portrait" src="images/doctor.png">
			<img id="carpet" src="images/carpet.jpg">
			<img id="JamHoney" src="images/JamHoney.png">
			<img id="wallBack" src="images/wall_back.jpg">
			<img id="wallFront" src="images/wall_front.jpg">
			<img id="wall" src="images/wall.jpg">
			<img id="wallRight" src="images/wallRight.jpg">
			<img id="paper" src="images/paper.jpg">
			<img id="fence" src="images/fence.png">
			<img id="stone" src="images/stone.png">
			<img id="marrianne" src="images/marrianne.png">
			<img id="mark" src="images/mark.png">
			<img id="bedImg" src="images/bed.png">
			<img id="bedCoverImg" src="images/bedCover.png">
			<img id="marrianneBed" src="images/marrianneBed.png">
			<img id="mandM" src="images/mandM.png">
			<img id="eggs" src="images/eggs.png">
			<img id="CatherineStorrHeadShot" src="images/Catherine-Storr-head-shot.jpg">
			<img id="paperwall" src="images/paperRoom.jpg">

			<img id="robin" src="images/robin.jpg">
			<img id="robin2" src="images/robin2.jpg">
			<img id="Polly-and-wolf" src="images/Polly-and-wolf.jpg">
			<img id="Giant-on-beach" src="images/Giant-on-beach.jpg">
			<a-asset-item id="bookhouse" src="models/Open+Book+House.dae"></a-asset-item>
			<a-asset-item id="Book_MarianneDreams" src="models/Book_MarianneDreams.dae"></a-asset-item>
			<a-asset-item id="Book_Rufus" src="models/Book_Rufus.dae"></a-asset-item>
			<a-asset-item id="Book_MirrorGhost" src="models/Book_MirrorGhost.dae"></a-asset-item>
			<a-asset-item id="Book_IfGame" src="models/Book_IfGame.dae"></a-asset-item>
			<a-asset-item id="door" src="models/door.dae"></a-asset-item>
			<a-asset-item id="bed" src="models/bed.dae"></a-asset-item>
			<a-asset-item id="sheet" src="models/sheet.dae"></a-asset-item>
			<a-asset-item id="house" src="models/house.dae"></a-asset-item>
			<a-asset-item id="bookcase" src="models/Bookcase1.dae"></a-asset-item>
			<a-asset-item id="mirror" src="models/Goldmirror.dae"></a-asset-item>
			<a-asset-item id="bedsideTable" src="models/Bedside_Table.dae"></a-asset-item>
			<a-asset-item id="Bunch_of_keys" src="models/Bunch_of_keys.dae"></a-asset-item>
			<!-- <audio id="music" src="sounds/Wounded.mp3"></audio>
			<audio id="narration" src="sounds/narration.mp3"></audio>
			<audio id="extras" src="sounds/extras.mp3"></audio>
			<audio id="bang" src="sounds/Exploding-Sound.mp3"></audio> -->
		</a-assets>

		<!-- Object -->
	  	<!-- <a-sky  color="#FFF" ></a-sky> -->
	  	<a-sky  color="#000" ></a-sky>
	  
		<a-entity id="movingBook" position="0 0 0" alongpath="path:0,2,-2 0,2,-1 3,2,-5 0,0,-2; closed:true; dur:12000" >
			<a-collada-model cursor-listener src="#bookChineseEgg" position="2 0 0" rotation="180 0 90" scale="4 4 4">
			  <a-animation attribute="rotation"
					 dur="10000"
					 fill="forwards"
					 to="180 360 90"
					 direction="alternate" 
					 repeat="indefinite"></a-animation>
			</a-collada-model>
		</a-entity>

		<a-entity id="room" position="0 0 0" material="opacity:0">
			<!-- Animations -->
			<a-animation attribute="material.opacity" begin="fadeout" to="0" dur="5000"></a-animation>

			<!-- Objects -->
			<a-plane class="walls" src="#wall" material="repeat:1 1;src:#wall" height="10" width="15" position="-7.7 3 -4.5" rotation="0 90 0" geometry="primitive:plane;height:10;width:15">
			</a-plane>
			<a-plane class="walls" src="#wallRight" material="repeat:1 1;src:#wallRight" height="10" width="15" position="12.3 3 -4.5" rotation="0 270 0" geometry="primitive:plane;height:10;width:15" scale="1 1 1">
			</a-plane>
			<a-plane class="walls" src="#wallFront" material="repeat:1 1;src:#wallFront" height="10" width="20" position="2.3 3 3" rotation="0 180 0" geometry="primitive:plane;height:10;width:20" scale="1 1 1" visible="true">
			</a-plane>
			<a-plane class="walls"  src="#wallBack" material="repeat: 1 1;" height="10" width="20" position="2.3 3 -12" rotation="0 0 0">
			</a-plane>

			<a-plane class="walls" color="#FFF" height="15" width="20" material="side:back;color:#FFF" position="2.3 8 -4.5" rotation="270 180 0" geometry="primitive:plane;height:15;width:20">
			</a-plane>

			<a-plane class="walls" src="#carpet"  material="repeat: 15 15;" height="15" width="20" position="2.3 -2 -4.5" rotation="270 180 0">
			</a-plane>

			<a-collada-model id="bookcaseModel" src="#bookcase" position="-6 -2 -10.6" scale="4 4 4" rotation="0 0 0"  material="shader: flat">
				<a-collada-model id="movingBookDreams" src="#Book_MarianneDreams" position="1.7 1.5 0.9" rotation="155 90 90" scale="0.75 0.7 0.8">		
 					<a-animation attribute="position" dur="4000" easing="ease-in-cubic" from="1.7 1.5 0.9" to="2.18 1.83 -0.05" begin="bookDreams"></a-animation>		
 					<a-animation attribute="rotation" dur="4000" from="155 90 90" to="165 175 90" begin="bookDreams"></a-animation>		
 				</a-collada-model>		
 		
 				<a-collada-model id="movingBookRufus" src="#Book_Rufus" position="2.2 1.5 1.3" rotation="175 100 90" scale="0.75 0.7 0.8">		
 					<a-animation attribute="position" dur="4000" easing="ease-in-cubic" from="2.2 1.5 1.3" to="1.64 1.84 -0.02" begin="bookRufus"></a-animation>		
					<a-animation attribute="rotation" dur="4000" from="175 100 90" to="165 175 90" begin="bookRufus"></a-animation>		
				</a-collada-model>		
		
 				<a-collada-model id="movingBookMirror" src="#Book_MirrorGhost" position="1.8 1.5 1.9" rotation="155 90 90" scale="0.75 0.7 0.8">		
 					<a-animation attribute="position" dur="4000" easing="ease-in-cubic" from="1.8 1.5 1.9" to="1.93 1.06 -0.03" begin="bookMirror"></a-animation>		
 					<a-animation attribute="rotation" dur="4000" from="155 90 90" to="165 175 90" begin="bookMirror"></a-animation>		
 				</a-collada-model>		
  						  				
 				<a-collada-model id="movingBookKey" src="#Book_IfGame" position="2.2 1.5 2.2" rotation="175 100 90" scale="0.75 0.7 0.8">		
 					<a-animation attribute="position" dur="4000" easing="ease-in-cubic" from="2.2 1.5 2.2" to="1.8 2.14 -0.02" begin="bookKey"></a-animation>		
 					<a-animation attribute="rotation" dur="4000" from="175 100 90" to="165 175 90" begin="bookKey"></a-animation>		
 				</a-collada-model>

 				<a-entity position="0.38 0.15 0" text="text:Hand made books;height:0" id="booksText" rotation="0 -76 0" scale="0.5 0.2 0" material="color:white;shader:flat;visible:false"></a-entity>
		  	</a-collada-model>

		  	<a-image id="Catherine1" src="#portrait" position="7.6 1.8 -6.5" scale="5.5 7 4" rotation="0 -15 0" material="opacity:0">
				<a-animation attribute="material.opacity" begin="fadein" to="0.9" dur="5000"></a-animation>
			</a-image>

			<a-image id="marrianneInBed" src="#marrianneBed" position="10.68 1.77 -2.98" scale="2.34 3.04 3" rotation="0 -25 0" material="opacity:0;color:#FFF;shader:flat;side:double;transparent:true;src:#marrianneBed" geometry="primitive:plane">
				<a-animation attribute="material.opacity" begin="fadein" to="1" dur="0"></a-animation>
				<a-animation attribute="material.opacity" begin="fadeout" to="0" dur="0"></a-animation>
			</a-image>

			<a-collada-model src="#bed" collada-model="#bed" position="12 -2 -2" scale="4 4 4" rotation="0 90 0" material=""></a-collada-model>
			<a-collada-model id="mirrorModel" src="#mirror" collada-model="#mirror" position="11.9 2 -10" scale="3 3 3" rotation="0 -90 0" material="">
				<a-entity position="0.28 0.48 1.91" text="text:The Mirror Image Gost (1994)" id="mirrorText" rotation="0 90 0" scale="0.2 0.2 0" material="color: white; shader: flat; visible:false"></a-entity>
			</a-collada-model>
			<a-collada-model src="#keys" collada-model="#Bunch_of_keys" position="-3 -1.8 -6" scale="10 10 10" rotation="0 90 0" material=""></a-collada-model>

			<a-collada-model id="bedside-Table" src="#bedsideTable" collada-model="#bedsideTable" position="10.98 -1.93 -1.47" scale="4.6 4.5 4.2" rotation="0 270 0" material=""></a-animation></a-collada-model>

			<a-collada-model id="door" src="#door" collada-model="#door" position="-2.09 -2.03 -11.98" scale="4.6 4.5 4.2" rotation="0 200 0" material=""><a-animation attribute="rotation" dur="2000" to="0 200 0" begin="3000"></a-animation></a-collada-model>

			<!--**** HIT POINTS ****-->
			<a-entity position="-7.51 4.96 -4.54" rotation="0 90 0" scale="3.46 2.3 1" geometry="primitive:plane" id="doubles" material="opacity:0">
				<a-entity position="0 0 0" text="text:- Photos by Catherine Storr's mother" id="doublesText" rotation="0 -70 0" scale="0.5 0.5 0" material="color: white; shader: flat; visible:false"></a-entity>
			</a-entity>

			<a-entity position="-7.63 -0.8 -3.48" rotation="0 90 0" scale="4.3 5.76 1" geometry="primitive:plane" id="dolls2" material="opacity:0" visible="true">
				<a-entity position="0.38 0.15 0" text="text:Catherine Storr's dolls;height:0" id="dolls2Text" rotation="0 -76 0" scale="0.5 0.2 0" material="color:white;shader:flat;visible:false"></a-entity>
			</a-entity>

			<a-entity position="9 5 2.87" rotation="0 0 0" scale="1.86 2.58 1" visible="true" geometry="primitive:plane" id="portraitChild" material="opacity:0;side:back">
				<a-entity position="-0.6 -0.39 0" text="text:Catherine aged 6" id="portraitChildText" rotation="0 180 0" scale="0.2 0.1 0" material="color: white; shader: flat; visible:false"></a-entity>
			</a-entity>

			<a-entity position="9 0.78 2.87" rotation="0 0 0" scale="3.44 2.58 1" visible="true" geometry="primitive:plane" id="dollsCloths" material="opacity:0;side:back">
				<a-entity position="-0.46 0.21 0" text="text:Dolls cloths" id="dollsClothsText" material="color: white; shader: flat; visible:false" rotation="0 180 0" scale="0.2 0.1 0"></a-entity>
			</a-entity>

			<a-entity position="1.78 5.56 2.87" rotation="0 0 0" scale="3.58 2.98 1" visible="true" geometry="primitive:plane" id="mother" material="opacity:0;side:back">
				<a-entity position="-0.6 -0.02 0" text="text:Catherine and Daughters" id="motherText" rotation="0 99 0" scale="0.5 0.2 0" material="color:white;shader:flat;visible:false"></a-entity>
			</a-entity>

		</a-entity>
	 
		<a-entity camera universal-controls="movementControls:;" look-controls id="camera" position="2.5 4 -8">
			<a-entity 
			  id="crosshair"
			  cursor="fuse:true;timeout:50" 
			  position="0 0 -1" 
			  scale="0.1 0.1 0.1" 
			  geometry="primitive:ring;radiusInner:0.5;radiusOuter:0.6" 
			  material="color:white;shader:flat;visible:false" raycaster="">
			  <a-animation begin="click" easing="ease-in" attribute="scale" fill="backwards" from="0.01 0.01 0.01" to="0.1 0.1 0.1" dur="100"></a-animation>
			</a-entity>
			<a-entity id="pauseTimeBar" cursor="fuse: true; timeout: 50"
			  position="-0.2 -0.2 -1"
			  scale="0 0.01 0.01"
			  geometry="primitive: plane;"
			  material="color: white; shader: flat">
			</a-entity>
			<a-entity id="timer" text="text: 0"
			  position="0 -0.2 -1"
			  scale="0.1 0.1 0"
			  material="color: white; shader: flat">
			</a-entity>

			<!-- <a-entity id="audio" sound="autoplay: false; src: #narration; volume: 5" ></a-entity> -->

			<a-entity id="lightSpot" light="type: point; intensity: 0; distance: 15; decay: 2" position="0 1 10">
				<a-animation begin="lightOn" attribute="light.intensity" from="0" to="10" dur="10000"></a-animation>
			</a-entity>
		</a-entity>

	</a-scene>

	<script type="text/javascript" src="js/addElements.js"></script>
	<script type="text/javascript" src="js/timeLine.js"></script>
	<script type="text/javascript" src="js/app.js"></script>
  </body>
</html>
